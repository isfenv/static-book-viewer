
                        <h2>ساختار شرطی if-else</h2>
                        <div><p style="text-align: justify;">در دو فصل گذشته با مبانی برنامه نویسی با زبان جاوا اسکریپت آشنا شدید. در این فصل پا را کمی فراتر گذاشته و با برخی از مهمترین مفاهیم در برنامه‌نویسی (با هر زبانی)، آشنا می‌شویم.</p>
<p>از مهمترین مباحث مورد بحث در این فصل می‌توان به موارد زیر اشاره کرد :</p>
<ul>
<li>ساختارهای شرطی</li>
<li>آرایه‌ها</li>
<li>مجموعه‌ها (Sets)</li>
<li>نقشه‌ها (Maps)</li>
<li>ساختارهای تکرار</li>
</ul>
<p>&nbsp;</p>
<h2>ساختارهای شرطی</h2>
<p style="text-align: justify;">فرض کنید برنامه‌ای نوشته‌اید که تعدادی سوال چهار گزینه‌ای را از کاربران پرسیده و کاربران به این سوالات پاسخ می‌دهند. پس از پایان پرسش و پاسخ، تعداد پاسخ‌های صحیح کاربر شمارش شده و بر اساس تعداد پاسخ‌های صحیح، پیامی به کاربر نمایش داده می‌شود. مثلاً اگر تعداد پاسخ‌های صحیح کمتر از ۵ باشد پیغام &#8220;خیلی ضعیف&#8221;، اگر تعداد پاسخ‌های صحیح بین ۵ تا ۱۰ باشد پیغام &#8220;ضعیف&#8221;، اگر تعداد پاسخ‌های صحیح ۱۱ تا ۱۵ باشد پیغام &#8220;متوسط&#8221;، و اگر تعداد پاسخ‌های صحیح بیش از ۱۵ باشد پیغام &#8220;عالی&#8221; را نمایش می‌دهد.</p>
<p style="text-align: justify;">سوال این است که برنامه‌ی شما چطور باید تصمیم بگیرد که کدام پیغام را نمایش دهد؟ این در واقع همان کاری است که با ساختارهای شرطی یا ساختارهای تصمیم‌گیری در جاوا اسکریپت (و سایر زبان‌های برنامه‌نویسی) انجام می‌شود. انوع مختلفی از ساختارهای تصمیم در جاوا اسکریپت وجود دارد که در این بخش به بررسی برخی از آنها می‌پردازیم.</p>
<p>&nbsp;</p>
<h3>ساختار شرطی if</h3>
<p style="text-align: justify;">اولین و ساده‌ترین ساختار تصمیم‌گیری در جاوا اسکریپت، ساختار شرطی if است. در قطعه کد زیر نحوه‌ی استفاده از این ساختار را مشاهده می‌کنید.</p>
<pre class="ltr"><code class="language-javascript">
if (condition) {
       // دستورات اجرایی در صورت صحیح بودن شرط
}
</code></pre>
<p style="text-align: justify;">به ساختار فوق کمی با دقت توجه کنید. در این ساختار ابتدا کلمه‌ی کلیدی if و بعد از آن یک پرانتز باز و بسته قرار می‌گیرد. داخل این پرانتز باید یک شرط (condition) را مشخص کنید که در صورتی که مقدار آن (یا نتیجه‌ی آن) برابر با true باشد. آنگاه کلیه‌ی دستوراتی که داخل آکلادهای باز و بسته قرار گرفته‌اند اجرا خواهند شد. در غیر این صورت از تمامی این دستورات صرف نظر شده و اجرا نخواهند شد. مثلاً در قطعه کد زیر، در صورتی که مقدار متغیر a بزرگتر از ۴ باشد، دستورات داخل آکلاد اجرا خواهند شد.</p>
<pre class="ltr"><code class="language-javascript">
if (a &gt; 4) {
       console.log('The value is greater than 4');
}
</code></pre>
<p style="text-align: justify;">توجه کنید که عبارت داخل پرانتز که به عنوان شرط به کار برده می‌شود. می‌تواند هر نوع عبارت محاسباتی، مقایسه‌ای، انتسابی و یا حتی یک متغیر یا ثابت باشد. هر عبارتی که به عنوان شرط به کار برده شود. ابتدا ارزیابی شده و مقدار نهایی آن بررسی می‌شود. اگر مقدار نهایی از نوع Boolean باشد، نیاز به تبدیل خاصی نیست و در صورتی که مقدار نهایی true باشد، دستورات اجرا می‌شوند. اما اگر مقدار نهایی از نوعی دیگر باشد، ابتدا به صورت ضمنی، طبق قوانینی که در فصل قبل بررسی شد به معادل Boolean تبدیل می‌شود. سپس تصمیم‌گیری بر اساس مقدار Boolean به دست آمده انجام می‌شود. مثلاً در قطعه کد زیر، ابتدا عبارت محاسباتی &#8220;<span class="ltr d-inline-block">۴ &#8211; ۲</span>&#8221; ارزیابی می‌شود. و با توجه به اینکه نتیجه‌ی آن مقدار عددی ۲ است. این مقدار به صورت ضمنی به مقدار Boolean تبدیل می‌شود. که با توجه به قوانینی که پیش‌تر بررسی شد این مقدار عددی به مقدار true تبدیل می‌شود. لذا کل دستورات داخل آکلاد اجرا می‌شوند.</p>
<pre class="ltr"><code class="language-javascript">
if (4 - 2) {
       // دستوراتی که در این قسمت قرار دارند حتماً اجرا می‌شوند. زیرا مقدار 2 از نظر ارزش منطقی صحیح است
}
</code></pre>
<p style="text-align: justify;">هرچند در قسمت condition هر نوع عبارتی را می‌توان به کار برد. اما معمولاً در این قسمت از عبارات مقایسه‌ای استفاده می‌شود.</p>
<blockquote class="blockquote">
<p style="text-align: justify;"><strong><span style="color: #0000ff;">نکته :</span></strong> به دستوراتی که داخل آکلاد باز و بسته &#8220;{}&#8221; قرار می‌گیرند، اصطلاحا یک &#8220;بلاک کد&#8221; گفته می‌شود. یک بلاک کد می‌تواند شامل هر تعداد دستور، یا انواع ساختارهای مختلف برنامه‌نویسی باشد. در ساختار شرطی if، در صورتی که فقط یک دستور داخل بلاک کد وجود داشته باشد، می‌توان آکلادها را حذف کرد و از بلاک کد استفاده نکرد. مانند قطعه کد زیر.</p>
<pre class="ltr"><code class="language-javascript">
if (a == 4)
       console.log('The value is : 4');
</code></pre>
<p style="text-align: justify;">اما اکیداً توصیه می‌شود که حتی در چنین مواردی، برای بالا بردن خوانایی کدها، از آکلادها استفاده کنید. همچنین لازم به ذکر است که این نکته در مورد ساختارهای شرطی و ساختارهای تکراری که در ادامه‌ی این فصل خواهید دید نیز صادق است.</p>
</blockquote>
<blockquote class="blockquote">
<p style="text-align: justify;"><span style="color: #0000ff;"><strong>نکته :</strong></span> یکی از اشتباهات رایج در بین برنامه‌نویسان، استفاده از عملگر &#8220;=&#8221;، به جای عملگر &#8220;==&#8221; یا &#8220;===&#8221; در زمان مقایسه‌ی مقدارها در ساختار شرطی if است. توجه کنید که اگر از عملگر &#8220;=&#8221; در قسمت شرط استفاده کنید. احتمالاً با نتایج غیر منتظره‌ای روبرو خواهید شد. زیرا این عملگر هیچ مقایسه‌ای انجام نمی‌دهد و فقط مقدار عملوند سمت راست را در عملوند سمت چپ (که باید یک متغیر باشد) قرار می‌دهد. مثلاً در قطعه کد زیر، بدون توجه به مقدار قبلی متغیر a که 0 است. نتیجه‌ی شرط همیشه true است. زیرا ابتدا مقدار عددی 4 در متغیر a قرار می‌گیرد. سپس این مقدار به عنوان نتیجه‌ی عبارت به مقدار Boolean تبدیل می‌شود. که برابر با true است. در نتیجه این شرط همیشه برقرار است و دستورات داخل آکلاد همیشه اجرا خواهند شد.</p>
<pre class="ltr"><code class="language-javascript">
let a = 0;
if (a = 4) {
       console.log('The value is greater than 4');
}
</code></pre>
<p style="text-align: justify;">پس لازم است در هنگام استفاده از عملگرهای مقایسه‌ای نکته‌ی فوق را مد نظر قرار دهید.</p>
</blockquote>
<p>&nbsp;</p>
<h3>ساختار شرطی if , else</h3>
<p style="text-align: justify;">دیدیم که با استفاده از ساختار شرطی if می‌توان دستوراتی را فقط در صورت true بودن یک شرط (یا عبارت) اجرا کرد. اما گاهی اوقات لازم است تا در صورت false بودن آن شرط نیز دستورات دیگری اجرا شوند. در این مواقع می‌توان از ساختار شرطی if , else استفاده کرد. نحوه‌ی استفاده از این ساختار را در قطعه کد زیر می‌بینید.</p>
<pre class="ltr"><code class="language-javascript">
if (condition) {
       // دستوراتی که در صورت صحیح بودن شرط اجرا می‌شوند
}else{
       // دستوراتی که در صورت غلط بودن شرط اجرا می‌شوند
}
</code></pre>
<p style="text-align: justify;">در این ساختار، در صورتی که مقدار condition برابر با false باشد. دستوراتی که در بلاک کد دوم (بعد از کلمه‌ی کلیدی else) قرار دارند اجرا خواهند شد. به عنوان مثال در قطعه کد زیر، دستورات موجود در بلاک کد مربوط به else اجرا می‌شوند. چرا که مقدار متغیر a کوچتر از ۲۰ است.</p>
<pre class="ltr"><code class="language-javascript">
let a = 19;
if (a &gt; 20) {
      console.log('The value is greater than 20');
}else{
       console.log('The value is equal or less then 20');
}
</code></pre>
<p style="text-align: justify;">برنامه‌ فوق را می‌توانید <a href="https://codepen.io/abbassac/pen/QVarNj" target="_blank" rel="noopener noreferrer">اینجا</a> به صورت آنلاین در CodePen اجرا کنید. دقت کنید که زمانی که از CodePen استفاده می‌کنید، برای مشاهده‌ی خروجی برنامه‌ها در کنسول، به جای باز کردن کنسول مرورگر، باید کنسول مخصوص CodePen را باز کنید. برای باز کردن کنسول CodePen روی دکمه‌ی Console در پایین و سمت چپ صفحه‌ی وب کلیک کنید.</p>
<p>حال سعی کنید در دستور اول، مقادیر مختلف عددی را به متغیر a نسبت دهید و نتیجه را در کنسول مشاهده کنید تا عملکرد ساختار if , else را بهتر درک کنید.</p>
<p>&nbsp;</p>
<h3>ساختار if , else if , else</h3>
<p style="text-align: justify;">حال به سوال اول برمی‌گردیم. مسئله‌ی آزمون چهار گزینه‌ای را دوباره تصور کنید. آیا می‌توان چنین مسئله‌ای را با یک ساختار شرطی if یا یک ساختار شرطی if , else پیاده‌سازی کرد؟ پاسخ این سوال منفی است. زیرا در این ساختار‌ها فقط یک شرط بررسی می‌شود و شما می‌توانید دستوراتی را برای دو حالتی که نتیجه‌ی شرط true یا false باشد در نظر بگیرید. اما در مسئله‌ی ما ۴ حالت مختلف وجود دارد. در چنین شرایطی باید از ساختار if , else if , else استفاده کنیم. نحوه‌ی استفاده از این ساختار را در قطعه کد زیر مشاهده می‌کنید.</p>
<pre class="ltr"><code class="language-javascript">
if (condition1) {
      // در صورتی که شرط اول صحیح باشد این دستورات اجرا می‌شوند
}else if(condition2){
      // در صورتی که شرط دوم صحیح باشد این دستورات اجرا می‌شوند
}else if(condition3){
      // در صورتی که شرط سوم صحیح باشد این دستورات اجرا می‌شوند
}else{
      // در صورتی که هیچ یک از شرط‌های فوق صحیح نباشند این دستورات اجرا می‌شوند
}
</code></pre>
<p style="text-align: justify;">در این ساختار می‌توان به تعداد دلخواه شرط‌های مختلفی را به کار برد. شرط اول بعد از کلمه‌ی کلیدی if قرار می‌گیرد و در صورت true بودن این شرط، تمام دستورات موجود در بلاک اول اجرا می‌شوند. در غیر این صورت شرط دوم بررسی می‌شود و در صورت true بودن این شرط، دستورات موجود در بلاک دوم اجرا می‌شوند. در صورتی که این شرط هم false باشد، شرط سوم بررسی می‌شود و این روند به تعداد شرط‌های تعیین شده تکرار می‌شود. در نهایت اگر هیچ یک از شرط‌ها مقدار true نداشته باشند، دستورات موجود در بلاک آخر (مربوط به else) اجرا می‌شوند.</p>
<p style="text-align: justify;">نکته‌ی بسیار مهمی که باید به آن توجه کنید این است که با رسیدن به اولین شرطی که مقدار آن true باشد، دستورات آن بلاک اجرا شده و از بقیه‌ی شرط‌ها و بلاک‌ها صرف نظر می‌شود. مثلاً اگر condition1 و condition3 مقدارشان true باشد. فقط دستورات مربوط به condition1 اجرا می‌شوند و از condition3 صرف نظر می‌شود. همچنین توجه کنید که قسمت else در این ساختار اختیاری است و در صورت عدم نیاز می‌توان این قسمت را حذف کرد.</p>
<p style="text-align: justify;">مسئله‌ی آزمون چهار گزینه‌ای که در ابتدای این بخش مطرح شد را می‌توان به راحتی با استفاده از این ساختار پیاده‌سازی کرد. قطعه کد زیر نحوه‌ی پیاده‌سازی این مسئله را با استفاده از این ساختار نشان می‌دهد.</p>
<pre class="ltr"><code class="language-javascript">
let trueAnswers = 10;
if (trueAnswers &lt; 5) {
      console.log('خیلی ضعیف');
}else if(trueAnswers &lt;= 10){
      console.log('ضعیف');
}else if(trueAnswers &lt;= 15){
      console.log('متوسط');
}else{
      console.log('عالی');
}
</code></pre>
<p style="text-align: justify;">این برنامه را نیز می‌توانید <a href="https://codepen.io/abbassac/pen/MqrGQv" target="_blank" rel="noopener noreferrer">اینجا</a> به صورت آنلاین در CodePen اجرا کنید. سعی کنید مقدار متغیر trueAnswers را تغییر دهید تا نتیجه را در حالت‌های مختلف مشاهده کنید.</p>
<p style="text-align: justify;">به شرط‌های به کار رفته شده در کد فوق توجه کنید. نکته‌ای که پیش‌تر به آن اشاره کردیم در این مثال کاملاً مشهود است. مثلاً اگر مقدار متغیر trueAnswers برابر با ۱۰ باشد، همزمان شرط‌های دوم و سوم true هستند. ولی فقط بلاک کد مربوط به شرط دوم اجرا خواهد و از بلاک کد سوم صرف نظر خواهد شد.</p>
<p style="text-align: justify;">اما قطعه کد فوق یک ایراد بسیار مهم دارد که عمداً در این کد قرار داده شده است تا اهمیت آن روشن شود. زمانی که شما با استفاده از ساختارهای شرطی، حالت‌های مختلف یک یا چند متغیر را بررسی می‌کنید. باید دقت کنید که ورودی‌های نامعتبر، اشکال یا ابهامی در خروجی به وجود نیاورند. مشکل کد فوق این است که در آن فرض شده است که مقدار ورودی (مقدار trueAnswers)، یک مقدار معتبر است. اما مقدار معتبر چیست؟</p>
<p style="text-align: justify;">اگر صورت مسئله را دوباره مرور کنید، متوجه خواهید شد که در چنین مسئله‌ای، مقدار ورودی باید عددی بین ۰ تا ۲۰ باشد. حال اگر عددی کوچکتر از صفر، یا عددی بزرگتر از ۲۰ به عنوان ورودی به این برنامه داده شود. در این صورت نباید هیچ یک از پیغام‌های فوق به کاربر نمایش داده شود. بلکه باید پیغام خطایی نمایش داده شود تا کاربر (یا هر نرم‌افزای که این کد را اجرا می‌کند)، متوجه نامعتبر بودن ورودی شده و سعی در اصلاح آن کند.</p>
<p style="text-align: justify;">مثلاً فرض کنید مقدار ورودی <span class="ltr d-inline-block">-۳</span> باشد که یک مقدار نامعتبر است. در این صورت با توجه به این که شرط اول true خواهد شد، پیغام &#8220;خیلی ضعیف&#8221; به کاربر نمایش داده خواهد شد. یا مثلاً اگر مقدار ۵۵ که یک مقدار نامعتبر است وارد شود، پیغام &#8220;عالی&#8221; نمایش داده خواهد شد. یا حتی اگر مقدار NaN یا یک رشته مانند &#8220;Hello&#8221; به عنوان ورودی وارد شود، در کمال تعجب پیغام &#8220;عالی&#8221; نمایش داده خواهد شد. چرا که هیچ یک از شرط‌ها true نمی‌شوند، در نتیجه بخش else اجرا شده و پیغام &#8220;عالی&#8221; را در خروجی نمایش می‌دهد.</p>
<p style="text-align: justify;">بنابراین در زمان استفاده از ساختارهای شرطی دقت کنید که برنامه‌ی شما در ازای ورودی‌های غلط و نامعتبر، خروجی نامناسبی تولید نکند و با نمایش یک پیغام خطای مناسب، کاربر را مطلع کند. نمونه‌ی اصلاح شده‌ی برنامه‌ی فوق را در قطعه کد زیر می‌توانید مشاهده کنید.</p>
<pre class="ltr"><code class="language-javascript">
let trueAnswers = -1;
if (trueAnswers &gt;= 0 &amp;&amp; trueAnswers &lt; 5){
      console.log('خیلی ضعیف');
}else if(trueAnswers &gt;= 5 &amp;&amp; trueAnswers &lt;= 10){
      console.log('ضعیف');
}else if(trueAnswers &gt;= 11 &amp;&amp; trueAnswers &lt;= 15){
      console.log('متوسط');
}else if(trueAnswers &gt; 15 &amp;&amp; trueAnswers &lt;= 20){
      console.log('عالی');
}else{
      console.log('مقدار ورودی نامعتبر است');
}
</code></pre>
<p style="text-align: justify;">حال اگر مقدار ورودی در بازه‌ی ۰ تا ۲۰ نباشد، پیغام خطای مشخص شده به کاربر نمایش داده خواهد شد. زیرا هیچ یک از شرط‌های تعیین شده در این صورت true نخواهند بود. در نتیجه بخش else اجرا شده و پیغام خطا را نمایش می‌دهد.</p>
<p style="text-align: justify;">البته اشکال دیگری نیز در این کد وجود دارد. آن اشکال این است که این برنامه به ازای مقادیر عددی اعشاری هیچ پیغام خطایی تولید نمی‌کند. مثلاً اگر ورودی ۵.۵ باشد، که یک مقدار نامعتبر است. در این صورت پیغام &#8220;ضعیف&#8221; نمایش داده خواهد شد. زیرا شرط دوم به ازای این مقدار ورودی صحیح خواهد بود. پس باید قبل از هر چیز از، مطمئن شویم که مقدار ورودی یک عدد صحیح است. حل این مشکل به عنوان تمرین به خواننده واگذار می‌شود.</p>
<p>&nbsp;</p>
<h3>عملگر شرطی <span class="ltr d-inline-block">&#8220;?:&#8221;</span></h3>
<p style="text-align: justify;">ساختار if , else را بررسی کردیم و دیدید که کاربرد این ساختار زمانی است که بخواهیم برای هر دو حالت true و false بودن یک شرط، دستورات مجزایی را در نظر گرفته و اجرا کنیم. عملگر <span class="ltr d-inline-block">&#8220;?:&#8221;</span> دقیقاً همین کار را انجام می‌دهد و هدف این عملگر خلاصه‌نویسی و کوتاه کردن کدهای برنامه است. این تنها عملگر جاوا اسکریپت است که ۳ عملوند دارد که به آن عملگر <strong>سه سه‌ای</strong> یا عملگر <strong>سه‌گانی</strong> (<strong>Ternary Operator</strong>) نیز گفته می‌شود. ساختار این عملگر را در قطعه کد زیر می‌بینید.</p>
<pre class="ltr"><code class="language-javascript">
condition ? expression1 : expression2
</code></pre>
<p style="text-align: justify;">در ساختار فوق، ابتدا شرط condition ارزیابی می‌شود. اگر مقدار آن true باشد expression1 و در غیر این صورت expression2 اجرا خواهد شد. توجه کنید که expression1 و expression2 می‌توانند هر نوع عبارت محاسباتی یا حتی یک متغیر یا ثابت یا یک مقدار لفظی (Literal) باشند که نتیجه‌ی این عبارات نیز توسط این ساختار بازگردانده شده و می‌توان از آن استفاده کرد. مثلاً در قطعه کد زیر از یک رشته‌ی لفظی به عنوان expression1 و expression2 استفاده شده است. در این صورت اگر مقدار شرط true باشد رشته‌ی اول و در غیر این صورت رشته‌ی دوم برگردانده می‌شود.</p>
<pre class="ltr"><code class="language-javascript">
let age = 26;
let canRegister = (age &gt; 18) ? "True, over 18" : "False, under 18";
console.log(canRegister);
</code></pre>
<p style="text-align: justify;">در کد فوق با توجه به این که مقدار متغیر age بیشتر از ۱۸ است. شرط &#8220;age &gt; 18&#8221; برقرار است. در نتیجه رشته‌ی &#8220;True , over 18&#8221; بازگردانده شده و در متغیر canRegister ذخیره می‌شود. سپس در خط بعدی این مقدار در کنسول چاپ می‌شود.</p>
</div>
                    