<h2>کار با انواع کنترل ها</h2>
<div>
	<p style="text-align: justify;">در بخش قبل با مقدمات و مفاهیم اولیه‌ی مربوط به فرم‌ها آشنا شدیم. در این بخش قصد
		داریم کمی با جزئیات بیشتر در رابطه با انواع کنترل‌ها و روش‌های تعامل با آنها صحبت کنیم.</p>
	<p>&nbsp;</p>
	<h3>کنترل‌ها متنی</h3>
	<p style="text-align: justify;">در HTML انواع مختلفی از کنترل‌های متنی وجود دارد که نحوه‌ی تعامل با آنها در
		جاوااسکریپت کاملاً یکسان است. به غیر از فیلدهای متنی چند خطی که با تگ &lt;textarea&gt; ایجاد می‌شوند، سایر
		فیلدهای متنی با تگ &lt;input&gt; ایجاد می‌شوند و نوع آنها با مقدار صفت type مشخص می‌شود. از این دست کنترل‌ها
		می‌توان به نوع text، نوع password، نوع email، نوع search و &#8230; اشاره کرد.</p>
	<p style="text-align: justify;">مقدار اولیه‌ی کنترل‌های متنی را می‌توان در HTML مشخص کرد. این کار در فیلدهای متنی
		چند خطی با قرار دادن رشته‌ی مورد نظر بین تگ‌های شروع و پایان &lt;textarea&gt; انجام می‌شود. و در سایر فیلدهای
		متنی نیز با صفت value می‌توان مقدار اولیه را مشخص کرد.</p>
	<p style="text-align: justify;">برای به دست آوردن مقدار یک فیلد متنی از خاصیت value استفاده می‌شود. این خاصیت
		خواندنی و نوشتنی است. یعنی می‌توان با تغییر مقدار این خاصیت، رشته‌ی موجود در فیلدهای متنی را تغییر داد. به عنوان
		مثال فرم زیر را در نظر بگیرید که از یک فیلد متنی از نوع text و یک دکمه از نوع button تشکیل شده است. توجه کنید که
		دکمه‌های از نوع button هیچ رفتار پیش‌فرضی برای رویداد click ندارند. بنابراین با کلیک کردن بر روی این نوع دکمه‌ها
		هیچ اتفاق خاصی رخ نمی‌دهد، مگر اینکه در جاوااسکریپت یک Event Handler برای این رویداد تعریف کرده باشیم.</p>
	<pre class="ltr"><code class="language-markup">
&lt;form&gt;
	&lt;input type="text" value="OTedia" /&gt;&lt;br /&gt; 
	&lt;button type="button"&gt;Duplicate&lt;/button&gt;
&lt;/form&gt;
</code></pre>
	<p style="text-align: justify;">برنامه‌ی زیر یک Event Handler برای رویداد click از عنصر &lt;button&gt; تعریف می‌کند
		تا در صورت کلیک کردن بر روی این دکمه، متن موجود در فیلد متنی Duplicate یا دو برابر شود. یعنی مقدار جدید فیلد
		متنی، با الحاق مقدار قبلی به خودش به وجود می‌آید. ضمناً مقدار اولیه‌ی فیلد متنی با استفاده از صفت value برابر با
		&#8220;OTedia&#8221; قرار داده شده است.</p>
	<pre class="ltr"><code class="language-javascript">
const button = document.querySelector('button');

button.addEventListener('click' , duplicate);

function duplicate(){
	const input = document.querySelector('input');
	input.value = input.value + input.value;
}
</code></pre>
	<p style="text-align: justify;">این برنامه را می‌توانید <a href="https://codepen.io/abbassac/pen/rQogrv"
			target="_blank" rel="noopener noreferrer">اینجا</a> در CodePen اجرا کنید. با وارد کردن هر مقدار دلخواهی در
		فیلد متنی و سپس کلیک کردن بر روی دکمه، متن موجود در فیلد متنی دو برابر خواهد شد.</p>
	<p>&nbsp;</p>
	<h3>کنترل‌های نوع Checkbox</h3>
	<p style="text-align: justify;">Checkbox ها از فیلدهای پر کاربرد در فرم‌های HTML هستند. این نوع فیلدها نیز دارای
		خاصیتی به نام value هستند که دقیقاً مانند فیلدهای متنی می‌توان آن را مقداردهی کرد و یا مقدار آن را خواند. اما
		مقدار خاصیت value در چک باکس‌ها معمولاً توسط جاوااسکریپت تغییر نمی‌کند. در واقع اهمیت مقدار خاصیت value در این
		نوع فیلدها در سمت سرور است. یعنی در زمان Submit شدن فرم‌ها، مقدار خاصیت value این فیلدها به سرور ارسال می‌شود.
	</p>
	<p style="text-align: justify;">چک باکس‌ها دارای خاصیتی به نام checked هستند که اهمیت زیادی در جاوااسکریپت دارد. این
		خاصیت از نوع boolean است. یعنی فقط می‌تواند یکی از دو مقدار true و false را داشته باشد. مقدار true به معنی تیک
		خوردن، و مقدار false به معنی تیک نخوردن چک باکس است. مقدار پیش‌فرض این خاصیت false است. به همین دلیل چک باکس‌ها
		به صورت پیش‌فرض در حالت انتخاب نشده هستند. اما با استفاده از صفت checked در HTML می‌توان حالت پیش‌فرض یک چک باکس
		را به وضعیت انتخاب شده تغییر داد.</p>
	<p style="text-align: justify;">به عنوان یک مثال از کاربرد چک باکس‌ها فرم زیر را در نظر بگیرید. این فرم یک منوی
		بسیار ساده است و کاربر می‌تواند موارد مورد نیاز خود را با استفاده از چک باکس‌ها انتخاب کند. سپس با کلیک کردن بر
		روی دکمه‌ی &#8220;سفارش&#8221; یک فاکتور ساده در قسمت زیر فرم بر اساس انتخاب‌های کاربر نمایش داده می‌شود.</p>
	<pre class="ltr"><code class="language-markup">
&lt;h1&gt;منوی سفارش&lt;/h1&gt;
&lt;form&gt;
	&lt;input type="checkbox" value="کوبیده" checked /&gt;&lt;label&gt;کوبیده&lt;/label&gt; &lt;br /&gt;
	&lt;input type="checkbox" value="جوجه کباب" /&gt;&lt;label&gt;جوجه کباب&lt;/label&gt;&lt;br /&gt;
	&lt;input type="checkbox" value="نوشابه" /&gt;&lt;label&gt;نوشابه&lt;/label&gt;&lt;br /&gt;
	&lt;input type="checkbox" value="دوغ" /&gt;&lt;label&gt;دوغ&lt;/label&gt;&lt;br /&gt;
	&lt;button type="button"&gt;سفارش&lt;/button&gt;
&lt;/form&gt;
&lt;h2&gt;سفارش فعلی شما&lt;/h2&gt;
&lt;div id="result"&gt;&lt;/div&gt;
</code></pre>
	<pre class="ltr"><code class="language-javascript">
const button = document.querySelector('button');
button.addEventListener('click' , handler);

function handler(){
	const inputs = document.querySelectorAll('input');
	let html = '&lt;table border="1" width="200"&gt;';
	for(let input of inputs){
		if(input.checked){
			html += `&lt;tr&gt;&lt;td&gt;${input.value}&lt;/td&gt;&lt;/tr&gt;`;						
		}
	}
	html += '&lt;/table&gt;';
	const div = document.getElementById('result');
	div.innerHTML = html;
}
</code></pre>
	<p style="text-align: justify;">این برنامه را می‌توانید <a href="https://codepen.io/abbassac/pen/BGMBQy"
			target="_blank" rel="noopener noreferrer">اینجا</a> اجرا کنید. در این برنامه پس از کلیک کردن بر روی دکمه‌ی
		&#8220;سفارش&#8221;، ابتدا با استفاده از متد querySelectorAll تمام تگ‌های &lt;input&gt; انتخاب می‌شوند. سپس در
		یک حلقه‌ی for..of مقدار خاصیت checked برای هر یک از چک باکس‌ها بررسی می‌شود. و در صورت true بودن مقدار این
		خاصیت، مقدار خاصیت value از چک باکس مورد نظر در یک سلول جدید از یک جدول قرار می‌گیرد. در انتها نیز جدولی که به
		صورت یک رشته‌ی HTML ایجاد شده است، در خاصیت innerHTML عنصر &lt;div&gt; قرار داده می‌شود. ضمناً توجه کنید که
		گزینه‌ی اول این منو به صورت پیش‌فرض انتخاب شده است. زیرا در کدهای HTML از صفت checked برای این عنصر استفاده شده
		است.</p>
	<p>&nbsp;</p>
	<h3>کنترل‌های نوع Radio Button</h3>
	<p style="text-align: justify;">دکمه‌های رادیویی یا Radio Button ها، شباهت بسیار زیادی به چک باکس‌ها دارند. این
		کنترل‌ها نیز با استفاده از تگ &lt;input&gt; ایجاد می‌شوند و مقدار صفت type برای آنها برابر با radio است. تفاوت
		اصلی دکمه‌های رادیویی با چک باکس‌ها در این است که دکمه‌های رادیویی معمولاً به صورت گروه‌بندی شده به کار می‌روند
		و در هر لحظه فقط یکی از گزینه‌ها در هر گروه می‌تواند انتخاب شود. اما چک باکس‌ها به صورت کاملاً مستقل از هم عمل
		می‌کنند و انتخاب هر گزینه، کاملاً مستقل از گزینه‌های دیگر است. برای قرار دادن دکمه‌های رادیویی در یک گروه لازم
		است که مقدار صفت name آنها یکسان باشد.</p>
	<p style="text-align: justify;">دکمه‌های رادیویی نیز خاصیتی به نام checked دارند که وضعیت انتخاب شدن یا نشدن آنها را
		مشخص می‌کند. مانند چک باکس‌ها، دکمه‌های رادیویی نیز به صورت پیش‌فرض در وضعیت انتخاب نشده هستند. اما می‌توان با
		استفاده از صفت checked این وضعیت را تغییر داد.</p>
	<p style="text-align: justify;">به عنوان مثال در فرم زیر دو گروه مختلف از دکمه‌های رادیویی وجود دارد. گروه اول دارای
		دو گزینه برای انتخاب وضعیت تاهل، و گروه دوم دارای <span class="text-dark">۴</span> گزینه برای انتخاب مدرک تحصیلی
		است. همانطور که مشاهده می‌کنید مقدار صفت name در گزینه‌هایی که متعلق به یک گروه هستند یکسان است.</p>
	<pre class="ltr"><code class="language-markup">
&lt;h1&gt;انتخاب وضعیت&lt;/h1&gt;
&lt;form&gt;
	&lt;input type="radio" name="marriage" value="مجرد" checked /&gt;&lt;label&gt;مجرد&lt;/label&gt;
	&lt;input type="radio" name="marriage" value="متاهل" /&gt;&lt;label&gt;متاهل&lt;/label&gt;
	&lt;hr /&gt;
	&lt;input type="radio" name="education" value="دیپلم" /&gt;&lt;label&gt;دیپلم&lt;/label&gt;
	&lt;input type="radio" name="education" value="لیسانس" checked /&gt;&lt;label&gt;لیسانس&lt;/label&gt;
	&lt;input type="radio" name="education" value="فوق لیسانس" /&gt;&lt;label&gt;فوق لیسانس&lt;/label&gt;
	&lt;input type="radio" name="education" value="دکتری" /&gt;&lt;label&gt;دکتری&lt;/label&gt;
	&lt;hr /&gt;
	&lt;button type="button"&gt;مشاهده‌ی وضعیت&lt;/button&gt;
&lt;/form&gt;
&lt;h2&gt;وضعیت فعلی شما&lt;/h2&gt;
&lt;div id="result"&gt;&lt;/div&gt;
</code></pre>
	<p style="text-align: justify;">برای مدیریت این فرم از برنامه‌ی زیر استفاده می‌کنیم.</p>
	<pre class="ltr"><code class="language-javascript line-numbers">
const button = document.querySelector('button');
button.addEventListener('click' , handler);

function handler(){
	const marriageInputs = document.querySelectorAll('input[name="marriage"]');
	const educationInputs = document.querySelectorAll('input[name="education"]');
	let marriage , education;
	for(let input of marriageInputs){
		if(input.checked){
			marriage = input.value;
			break;
		}
	}
	for(let input of educationInputs){
		if(input.checked){
			education = input.value;
			break;
		}
	}
	const div = document.getElementById('result');
	div.innerHTML = `&lt;p&gt;شما ${marriage} هستید و دارای مدرک ${education} هستید.&lt;/p&gt;`;
}
</code></pre>
	<p style="text-align: justify;">این برنامه را می‌توانید <a href="https://codepen.io/abbassac/pen/EOrYBO"
			target="_blank" rel="noopener noreferrer">اینجا</a> اجرا کنید. با اجرای این مثال مشاهده خواهید کرد که در هر
		لحظه فقط یکی از گزینه‌ها را در هر گروه می‌توان انتخاب کرد. با کلیک کردن بر روی دکمه‌ی &#8220;مشاهده‌ی
		وضعیت&#8221;، با توجه به گزینه‌های انتخاب شده، پیام مناسب در زیر این دکمه و داخل عنصر &lt;div&gt; نمایش داده
		می‌شود.</p>
	<p style="text-align: justify;">در این مثال نیز برای بررسی وضعیت گزینه‌های مختلف از حلقه‌های for..of استفاده شده
		است. اما در این مثال در صورت انتخاب شدن یک گزینه، از بررسی گزینه‌های دیگر صرف نظر می‌شود. زیرا مطمئن هستیم که از
		هر گروه فقط یک گزینه انتخاب شده است. به همین دلیل در خطوط <span class="text-dark">۱</span><span
			class="text-dark">۱</span> و <span class="text-dark">۱</span><span class="text-dark">۷</span> از دستور break
		استفاده شده است تا پس از مشخص شدن گزینه‌ی انتخاب شده، از بررسی وضعیت سایر گزینه‌ها صرف نظر شود.</p>
	<p>&nbsp;</p>
	<h3>کنترل‌های Drop-down List</h3>
	<p style="text-align: justify;">این نوع کنترل‌ها با یک عنصر &lt;select&gt; و تعدادی عنصر &lt;option&gt; در داخل آن
		ایجاد می‌شوند. این کنترل‌ها دارای دو حالت تک انتخابی و چند انتخابی هستند. حالت پیش‌فرض حالت تک انتخابی است. برای
		تغییر وضعیت این کنترل به حالت چند انتخابی می‌توان از صفت multiple برای عنصر &lt;select&gt; استفاده کرد.</p>
	<p style="text-align: justify;">لیست‌های تک انتخابی معمولاً جایگزین مناسبی برای دکمه‌های رادیویی هستند و با استفاده
		از آنها می‌توان تا حد زیادی حجم کدها را کاهش داد. به عنوان مثال می‌توان فرم موجود در مثال قبلی را به صورت زیر با
		لیست‌های تک انتخابی جایگزین کرد.</p>
	<pre class="ltr"><code class="language-markup">
&lt;h1&gt;انتخاب وضعیت&lt;/h1&gt;
&lt;form&gt;
	&lt;select name="marriage"&gt;
		&lt;option value="مجرد" selected&gt;مجرد&lt;/option&gt;
		&lt;option value="متاهل"&gt;متاهل&lt;/option&gt;
	&lt;/select&gt;
	&lt;hr /&gt;
	&lt;select name="education"&gt;
		&lt;option value="دیپلم"&gt;دیپلم&lt;/option&gt;
		&lt;option value="لیسانس" selected&gt;لیسانس&lt;/option&gt;
		&lt;option value="فوق لیسانس"&gt;فوق لیسانس&lt;/option&gt;
		&lt;option value="دکتری"&gt;دکتری&lt;/option&gt;
	&lt;/select&gt;
	&lt;hr /&gt;
	&lt;button type="button"&gt;مشاهده‌ی وضعیت&lt;/button&gt;
&lt;/form&gt;
&lt;h2&gt;وضعیت فعلی شما&lt;/h2&gt;
&lt;div id="result"&gt;&lt;/div&gt;
</code></pre>
	<p style="text-align: justify;">هرچند در این فرم جدید تعداد خطوط کدهای HTML کمی بیشتر شده است. اما تعداد خطوط
		برنامه‌ی جاوااسکریپت برای مدیریت این فرم به شکل چشمگیری کاهش پیدا می‌کند.</p>
	<pre class="ltr"><code class="language-javascript line-numbers">
const button = document.querySelector('button');
button.addEventListener('click' , handler);

function handler(){
	const marriageMenu = document.querySelector('select[name="marriage"]');
	const educationMenu = document.querySelector('select[name="education"]');
	const div = document.getElementById('result');
	div.innerHTML = `&lt;p&gt;شما ${marriageMenu.value} هستید و دارای مدرک ${educationMenu.value} هستید.&lt;/p&gt;`;
}
</code></pre>
	<p style="text-align: justify;">این برنامه را می‌توانید <a href="https://codepen.io/abbassac/pen/eQxBYg"
			target="_blank" rel="noopener noreferrer">اینجا</a> اجرا کنید. رفتار این مثال کاملاً مشابه مثال قبلی است.
		اما همانطور که مشاهده می‌کنید حجم کدهای جاوااسکریپت کمتر از نصف مثال قبلی است.</p>
	<p style="text-align: justify;">نکته‌ی مهمی که در زمان استفاده از لیست‌ها باید به آن توجه شود، تفاوت‌های موجود در
		خاصیت value این کنترل با سایر کنترل‌ها است. زمانی که مقدار خاصیت value از یک عنصر &lt;select&gt; خوانده می‌شود.
		در واقع مقدار صفت value از عنصر &lt;option&gt; انتخاب شده بازگردانده می‌شود. اما ممکن است گزینه‌ی انتخاب شده صفت
		value را نداشته باشد. در این صورت متن موجود در گزینه‌ی انتخاب شده به عنوان value بازگردانده می‌شود.</p>
	<p style="text-align: justify;">همچنین باید توجه کنید که در صورت انتساب یک مقدار جدید به خاصیت value از عنصر
		&lt;select&gt;، این مقدار باید به عنوان مقدار صفت value در یکی از عناصر &lt;option&gt; تعریف شده باشد. در غیر
		این صورت هیچ یک از گزینه‌های داخل لیست انتخاب نخواهند شد. مثلاً در مثال قبلی اجرای دستور زیر باعث انتخاب آخرین
		گزینه می‌شود.</p>
	<pre class="ltr"><code class="language-javascript">
educationMenu.value = 'دکتری';
</code></pre>
	<p style="text-align: justify;">اما اجرای دستور زیر هیچ یک از گزینه‌ها را انتخاب نمی‌کند. همچنین گزینه‌ی انتخاب
		شده‌ی قبلی را نیز از حالت انتخاب خارج می‌کند.</p>
	<pre class="ltr"><code class="language-javascript">
educationMenu.value = 'فوق دیپلم';
</code></pre>
	<p style="text-align: justify;">عناصر &lt;select&gt; خاصیتی به نام selectedIndex نیز دارند که اندیس گزینه‌ی انتخاب
		شده را مشخص می‌کند. این خاصیت خواندنی و نوشتنی است. پس می‌توان با تغییر مقدار این خاصیت، گزینه‌ی انتخاب شده را
		نیز تغییر داد. توجه کنید که اندیس گزینه‌ی اول صفر است و مقدار <span class="text-dark">1</span>&#8211; به معنی
		عدم انتخاب تمام گزینه‌ها است. به عنوان مثال دستور زیر موجب انتخاب گزینه‌ی دوم می‌شود.</p>
	<pre class="ltr"><code class="language-javascript">
educationMenu.selectedIndex = 1;
</code></pre>
</div>